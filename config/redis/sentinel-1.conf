# Redis Sentinel Configuration - Node 1
# High availability monitoring for Redis master/replica

port 26379
bind 0.0.0.0
dir /data

# Monitor Redis master named 'mymaster'
# Quorum of 2 means at least 2 sentinels must agree for failover
sentinel monitor mymaster redis-master 6379 2

# Authentication for Redis master
sentinel auth-pass mymaster ${REDIS_PASSWORD}

# How long master should be unreachable to consider it down (milliseconds)
sentinel down-after-milliseconds mymaster 5000

# How many replicas can be reconfiguring at the same time during failover
sentinel parallel-syncs mymaster 1

# Failover timeout in milliseconds
sentinel failover-timeout mymaster 10000

# Deny dangerous commands
sentinel deny-scripts-reconfig yes

# Notification scripts (optional)
# sentinel notification-script mymaster /scripts/notify.sh
# sentinel client-reconfig-script mymaster /scripts/reconfig.sh

# Logging
logfile /data/sentinel-1.log
loglevel notice
syslog-enabled yes
syslog-ident sentinel-1